/* Leaflet CSS */
@import "https://unpkg.com/leaflet@1.9.4/dist/leaflet.css";

/* Déclaration explicite de l'ordre des layers */
@layer reset, base, theme, layout, components, utilities;

/* Reset CSS moderne */
@layer reset {

  *,
  *::before,
  *::after {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }

  img,
  picture,
  svg,
  video {
    display: block;
    max-width: 100%;
  }

  input,
  textarea,
  button,
  select {
    font: inherit;
  }
}

/* Styles de base */
@layer base {

  @import url('https://fonts.googleapis.com/css2?family=Atkinson+Hyperlegible:ital,wght@0,400;0,700;1,400;1,700&display=swap');

  :root {
    /* Taille de police fluide */
    font-size: clamp(1rem, 0.5vw + 1rem, 1.25rem);
  }

  body {
    font-family: "Atkinson Hyperlegible", system-ui, -apple-system, sans-serif;
    line-height: 1.5;
    color: hsl(0 0% 20%);
    background-color: hsl(0 0% 98%);
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    line-height: 1.2;
    margin-block: 1em;
  }

  a {
    color: hsl(210 100% 40%);
    text-decoration: none;
  }

  a:hover {
    text-decoration: underline;
  }
}

/* Variables et thème */
@layer theme {
  :root {
    /* Couleurs */
    --color-primary: hsl(210 100% 40%);
    --color-primary-light: hsl(210 100% 60%);
    --color-secondary: hsl(280 80% 40%);
    --color-success: hsl(120 60% 40%);
    --color-warning: hsl(40 100% 50%);
    --color-error: hsl(0 100% 40%);

    --color-text-color: #222;
    --color-border-color: DimGray;

    --color-bg-color: DarkSeaGreen;
    --color-item-color: LightSteelBlue;
    --color-button-color: Moccasin;
    --color-info-color: Tomato;
    --color-select-color: Lightblue;

    --color-sb-bg-color: Gainsboro;
    --color-sb-item-color: WhiteSmoke;
    --color-sb-select-color: AntiqueWhite;


    /* Taille de texte */
    --text-sm: 0.875em;
    --text-lg: 1.125em;
    --text-xl: 1.25em;

    /* Espacements */
    --spacing-xs: 0.25rem;
    --spacing-sm: 0.5rem;
    --spacing-md: 1rem;
    --spacing-lg: 2rem;
    --spacing-xl: 4rem;

    /* Border radius */
    --radius-sm: 0.25rem;
    --radius-md: 0.5rem;
    --radius-lg: 1rem;

    /* Shadows */
    --shadow-sm: 0 1px 3px hsla(0 0% 0% / 0.1);
    --shadow-md: 0 4px 6px hsla(0 0% 0% / 0.1);
    --shadow-lg: 0 10px 15px hsla(0 0% 0% / 0.1);
  }
}

/* Layout */
@layer layout {
  .container {
    width: min(100% - 2rem, 70rem);
    margin-inline: auto;
  }

  .grid {
    display: grid;
    gap: var(--spacing-md);
  }

  .flex {
    display: flex;
    gap: var(--spacing-md);
  }
}


/* Composants */
@layer components {

  .card {
    padding: var(--spacing-md);
    border-radius: var(--radius-md);
    background-color: white;
    box-shadow: var(--shadow-sm);
  }

  .alert {
    padding: var(--spacing-md);
    border-radius: var(--radius-sm);
    border-left: 4px solid var(--color-primary);
  }

  .alert--success {
    border-color: var(--color-success);
    background-color: hsl(120 60% 97%);
  }

  .alert--warning {
    border-color: var(--color-warning);
    background-color: hsl(40 100% 97%);
  }

  .alert--error {
    border-color: var(--color-error);
    background-color: hsl(0 100% 97%);
  }
}

/* Utilitaires */
@layer utilities {

  /* Espacements */
  .mt-1 {
    margin-top: var(--spacing-xs);
  }

  .mt-2 {
    margin-top: var(--spacing-sm);
  }

  .mt-4 {
    margin-top: var(--spacing-md);
  }

  .mt-8 {
    margin-top: var(--spacing-lg);
  }

  .mt-16 {
    margin-top: var(--spacing-xl);
  }

  /* Alignement de texte */
  .text-left {
    text-align: left;
  }

  .text-center {
    text-align: center;
  }

  .text-right {
    text-align: right;
  }

  /* Taille de texte */
  .text-sm {
    font-size: var(--text-sm);
  }

  .text-lg {
    font-size: var(--text-lg);
  }

  .text-xl {
    font-size: var(--text-xl);
  }

  /* Flexibilité */
  .flex-1 {
    flex: 1;
  }

  .flex-grow {
    flex-grow: 1;
  }

  .flex-shrink {
    flex-shrink: 1;
  }
}

/* Styles pour le mode sombre */
@media (prefers-color-scheme: dark) {
  @layer theme {
    :root {
      --color-primary: hsl(210 100% 60%);
      --color-primary-light: hsl(210 100% 70%);
    }
  }

  @layer base {
    body {
      color: hsl(0 0% 90%);
      background-color: hsl(0 0% 10%);
    }
  }

  @layer components {
    .card {
      background-color: hsl(0 0% 15%);
    }
  }
}