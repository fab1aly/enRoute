<?php
	if(array_key_exists('error', $_SESSION))
	{
		$error = $_SESSION['error'];
		unset($_SESSION['error']);
	}
?>

<div id="sign-container">
    
    <form class="sign-form" method='post' action='./profil-process'>
        
        <fieldset>
            <!--<?php var_dump($user_info);?>-->
            <legend>Nom d'utilisateur</legend>
            
            <input type="text" name="new_username" placeholder="<?= htmlspecialchars($_SESSION['user']->getUsername())?>">
            
        </fieldset>
    
        <fieldset>
            <legend>Email</legend>
            
            <input type="email" name="new_email" placeholder="<?= htmlspecialchars($_SESSION['user']->getEmail())?>">
            
        </fieldset>
    
        <fieldset>
            <legend>Mot de passe</legend>
            
            <input id="password" type="password" name="new_password" placeholder="nouveau mdp"
                pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[^A-Za-z0-9])(.{8,})$">
            <div id="tooltip-pw" class="profil">
                <span class="maj">Une Majuscule</span>
                <span class="min">une minuscule</span>
                <span class="num">1 chiffre</span>
                <span class="spe">un spécial (!?..) </span>
                <span class="num8">8 caractères</span>
                <div class="arrow"></div>
            </div>
            <script type="text/javascript" src="script/sign.js"></script>
            
            <input type="password" name="new_password_confirm" placeholder="vérifier mdp">
            
        </fieldset>
        
        <button type="submit" ><span>Mettre à jour</span><i class="fa-solid fa-arrows-rotate"></i></button>
    </form>
    
    <a class="delete-user" href="./profil-delete"><i class="fa-solid fa-trash"></i> Supprimer votre compte</a>

    <?php if(isset($error)): ?>
		<p class="error"><?= $error ?></p>
	<?php endif ?>
	
</div>
    
    
    
    
    
