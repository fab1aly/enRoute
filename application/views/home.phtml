<!--leaf-->
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
     integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
     crossorigin="">
<!-- Make sure you put this AFTER Leaflet's CSS -->
 <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
     integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
     crossorigin=""></script>
    
<!--Script-->
    <script defer src="script/ListPoint.js"></script>
    
    <script defer src="script/searchbar.js"></script>
    
    <script defer src="script/home.js"></script>
    <!--<script defer type="text/javascript" src="script/map.js"></script>-->


<div class="searchbar">
    <input class="searchbar-input" type="text" name="search_adress" placeholder="recherche">
    <ul class="searchbar-results"></ul>
</div>

<div id="listpoint" data-value='<?= (isset($_POST['my_route'])) ? str_replace("'","",$_POST['my_route']) : null;?>'
                    data-name=''
    >
    <!--attion guillement simple !  "'" remplacer par "vide"   -->
    <ul></ul>
    <div>
        <form method="post" action="./my-routes"> 
        
            <span>Total</span>
            <input type="hidden" name="listpoint" value="">
            <input type="hidden" name="name" value=''>
            <button type="button">Save</button>
        </form>
    </div>
</div>

<div id="map" style="width: 100vw; height: 60vh;">
    
    <script>// L'id du container, par exemple <div id="map"></div>
        var mapID = 'map';
        
        // Photographies aériennes en-dessous de Plan IGN
        var OrthoIGN = L.tileLayer('https://wxs.ign.fr/{ignApiKey}/geoportail/wmts?' +
            '&REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&TILEMATRIXSET=PM' +
            '&LAYER={ignLayer}&STYLE={style}&FORMAT={format}' +
            '&TILECOL={x}&TILEROW={y}&TILEMATRIX={z}', {
                ignApiKey: 'decouverte',
                ignLayer: 'ORTHOIMAGERY.ORTHOPHOTOS',
                style: 'normal',
                format: 'image/jpeg',
                service: 'WMTS',
        
            });
        
        // Plan IGN avec une transparence de 50%
        var PlanIGN = L.tileLayer('https://wxs.ign.fr/{ignApiKey}/geoportail/wmts?' +
            '&REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&TILEMATRIXSET=PM' +
            '&LAYER={ignLayer}&STYLE={style}&FORMAT={format}' +
            '&TILECOL={x}&TILEROW={y}&TILEMATRIX={z}', {
                ignApiKey: 'decouverte',
                ignLayer: 'GEOGRAPHICALGRIDSYSTEMS.PLANIGNV2',
                style: 'normal',
                format: 'image/png',
                service: 'WMTS',
                opacity: 0.5,
                attribution: ', Carte © IGN-F/Geoportail'
            });
        
        // Plan OpenStreetMap_France avec une transparence de 50%
        var OpenStreetMap_France = L.tileLayer('https://{s}.tile.openstreetmap.fr/osmfr/{z}/{x}/{y}.png', {
            maxZoom: 20,
            opacity: 0.7,
            attribution: '&copy; OpenStreetMap France | &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
        });
        // Ma carte
        var myMap = L.map(mapID, {
            center: [46.1, 1.7],
            zoom: 6,
            layers: [OpenStreetMap_France]
        });
        
        
        //Boite de recherche geocode
        // var geocoder = L.geocoderBAN({ collapsed: false }).addTo(myMap)
    </script>
</div>

